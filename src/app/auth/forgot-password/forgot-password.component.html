<div class="forgot-password-container">
  <div class="forgot-password-form">
    <h2 class="forgot-password-title">Mot de passe oublié</h2>
    <p class="forgot-password-subtitle">Choisissez une méthode pour recevoir votre code de vérification</p>

    <!-- Sélection de la méthode -->
    <div class="method-selection">
      <div 
        class="method-card" 
        [class.active]="selectedMethod === 'email'"
        (click)="selectMethod('email')"
      >
        <span nz-icon nzType="mail" nzTheme="outline" class="method-icon"></span>
        <span class="method-label">Email</span>
      </div>
      <div 
        class="method-card" 
        [class.active]="selectedMethod === 'sms'"
        [class.disabled]="true"
        (click)="selectMethod('sms')"
      >
        <span nz-icon nzType="message" nzTheme="outline" class="method-icon"></span>
        <span class="method-label">SMS</span>
        <span class="coming-soon">Bientôt</span>
      </div>
      <div 
        class="method-card" 
        [class.active]="selectedMethod === 'whatsapp'"
        [class.disabled]="true"
        (click)="selectMethod('whatsapp')"
      >
        <span nz-icon nzType="wechat" nzTheme="outline" class="method-icon"></span>
        <span class="method-label">WhatsApp</span>
        <span class="coming-soon">Bientôt</span>
      </div>
    </div>

    <form
      nz-form
      [formGroup]="form"
      (ngSubmit)="submitForm()"
      style="margin-top: 24px;"
    >
      <nz-form-item>
        <nz-form-control [nzErrorTip]="'Veuillez entrer une adresse email valide !'">
          <nz-input-group nzPrefixIcon="mail">
            <input
              type="email"
              nz-input
              formControlName="email"
              placeholder="Adresse email"
            />
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>

      <div *ngIf="errorMessage" style="color: red; margin-bottom: 12px">
        {{ errorMessage }}
      </div>

      <button
        nz-button
        class="forgot-password-button"
        [nzType]="'primary'"
        [disabled]="loading"
        [nzLoading]="loading"
        nzBlock
      >
        Envoyer le code OTP
      </button>

      <div style="text-align: center; margin-top: 16px;">
        <a (click)="goToLogin()">Retour à la connexion</a>
      </div>
    </form>
  </div>
</div>

