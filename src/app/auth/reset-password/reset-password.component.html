<div class="reset-password-container">
  <div class="reset-password-form">
    <h2 class="reset-password-title">
      {{ isPasswordChange ? 'Changer votre mot de passe' : 'Réinitialiser votre mot de passe' }}
    </h2>
    
    <div style="margin-bottom: 24px; padding: 12px; background-color: #f0f0f0; border-radius: 4px;">
      <p style="margin: 0; font-size: 14px;">
        Email : <strong>{{ email }}</strong>
      </p>
    </div>

    <form
      nz-form
      [formGroup]="resetPasswordForm"
      (ngSubmit)="resetPassword()"
    >
      <nz-form-item>
        <nz-form-control [nzErrorTip]="'Le mot de passe doit contenir au moins 6 caractères !'">
          <nz-input-group nzPrefixIcon="lock">
            <input
              type="password"
              nz-input
              formControlName="newPassword"
              placeholder="Nouveau mot de passe"
            />
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-control [nzErrorTip]="resetPasswordForm.get('confirmPassword')?.hasError('passwordMismatch') ? 'Les mots de passe ne correspondent pas !' : 'Veuillez confirmer votre mot de passe !'">
          <nz-input-group nzPrefixIcon="lock">
            <input
              type="password"
              nz-input
              formControlName="confirmPassword"
              placeholder="Confirmer le mot de passe"
            />
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>

      <div *ngIf="errorMessage" style="color: red; margin-bottom: 12px">
        {{ errorMessage }}
      </div>

      <button
        nz-button
        class="reset-password-button"
        [nzType]="'primary'"
        [disabled]="loading"
        [nzLoading]="loading"
        nzBlock
      >
        {{ isPasswordChange ? 'Changer le mot de passe' : 'Réinitialiser le mot de passe' }}
      </button>

      <div style="text-align: center; margin-top: 16px;">
        <a (click)="goBack()">Retour</a>
      </div>
    </form>
  </div>
</div>

